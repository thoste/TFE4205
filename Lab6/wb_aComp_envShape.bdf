/*
WARNING: Do NOT edit the input and output ports in this file in a text
editor if you plan to continue editing the block that represents it in
the Block Editor! File corruption is VERY likely to occur.
*/
/*
Copyright (C) 1991-2008 Altera Corporation
Your use of Altera Corporation's design tools, logic functions 
and other software and tools, and its AMPP partner logic 
functions, and any output files from any of the foregoing 
(including device programming or simulation files), and any 
associated documentation or information are expressly subject 
to the terms and conditions of the Altera Program License 
Subscription Agreement, Altera MegaCore Function License 
Agreement, or other applicable license agreement, including, 
without limitation, that your use is for the sole purpose of 
programming logic devices manufactured by Altera and sold by 
Altera or its authorized distributors.  Please refer to the 
applicable agreement for further details.
*/
//#pragma file_not_in_maxplusii_format
(header "graphic" (version "1.3"))
(pin
	(input)
	(rect 632 592 800 608)
	(text "INPUT" (rect 133 0 161 10)(font "Arial" (font_size 6)))
	(text "store" (rect 5 0 29 12)(font "Arial" ))
	(pt 168 8)
	(drawing
		(line (pt 92 12)(pt 117 12)(line_width 1))
		(line (pt 92 4)(pt 117 4)(line_width 1))
		(line (pt 121 8)(pt 168 8)(line_width 1))
		(line (pt 92 12)(pt 92 4)(line_width 1))
		(line (pt 117 4)(pt 121 8)(line_width 1))
		(line (pt 117 12)(pt 121 8)(line_width 1))
	)
	(text "VCC" (rect 136 7 156 17)(font "Arial" (font_size 6)))
)
(pin
	(input)
	(rect 640 440 808 456)
	(text "INPUT" (rect 133 0 161 10)(font "Arial" (font_size 6)))
	(text "DI[15..0]" (rect 5 0 48 12)(font "Arial" ))
	(pt 168 8)
	(drawing
		(line (pt 92 12)(pt 117 12)(line_width 1))
		(line (pt 92 4)(pt 117 4)(line_width 1))
		(line (pt 121 8)(pt 168 8)(line_width 1))
		(line (pt 92 12)(pt 92 4)(line_width 1))
		(line (pt 117 4)(pt 121 8)(line_width 1))
		(line (pt 117 12)(pt 121 8)(line_width 1))
	)
	(text "VCC" (rect 136 7 156 17)(font "Arial" (font_size 6)))
)
(pin
	(input)
	(rect 608 384 808 400)
	(text "INPUT" (rect 165 0 193 10)(font "Arial" (font_size 6)))
	(text "reducationSpeed[3..0]" (rect 5 0 112 12)(font "Arial" ))
	(pt 200 8)
	(drawing
		(line (pt 124 12)(pt 149 12)(line_width 1))
		(line (pt 124 4)(pt 149 4)(line_width 1))
		(line (pt 153 8)(pt 200 8)(line_width 1))
		(line (pt 124 12)(pt 124 4)(line_width 1))
		(line (pt 149 4)(pt 153 8)(line_width 1))
		(line (pt 149 12)(pt 153 8)(line_width 1))
	)
	(text "VCC" (rect 168 7 188 17)(font "Arial" (font_size 6)))
)
(pin
	(input)
	(rect 632 576 800 592)
	(text "INPUT" (rect 133 0 161 10)(font "Arial" (font_size 6)))
	(text "CLK" (rect 5 0 26 12)(font "Arial" ))
	(pt 168 8)
	(drawing
		(line (pt 92 12)(pt 117 12)(line_width 1))
		(line (pt 92 4)(pt 117 4)(line_width 1))
		(line (pt 121 8)(pt 168 8)(line_width 1))
		(line (pt 92 12)(pt 92 4)(line_width 1))
		(line (pt 117 4)(pt 121 8)(line_width 1))
		(line (pt 117 12)(pt 121 8)(line_width 1))
	)
	(text "VCC" (rect 136 7 156 17)(font "Arial" (font_size 6)))
)
(pin
	(input)
	(rect 632 608 800 624)
	(text "INPUT" (rect 133 0 161 10)(font "Arial" (font_size 6)))
	(text "RESET_N" (rect 5 0 54 12)(font "Arial" ))
	(pt 168 8)
	(drawing
		(line (pt 92 12)(pt 117 12)(line_width 1))
		(line (pt 92 4)(pt 117 4)(line_width 1))
		(line (pt 121 8)(pt 168 8)(line_width 1))
		(line (pt 92 12)(pt 92 4)(line_width 1))
		(line (pt 117 4)(pt 121 8)(line_width 1))
		(line (pt 117 12)(pt 121 8)(line_width 1))
	)
	(text "VCC" (rect 136 7 156 17)(font "Arial" (font_size 6)))
)
(pin
	(output)
	(rect 2008 480 2184 496)
	(text "OUTPUT" (rect 1 0 39 10)(font "Arial" (font_size 6)))
	(text "envelope[15..0]" (rect 90 0 166 12)(font "Arial" ))
	(pt 0 8)
	(drawing
		(line (pt 0 8)(pt 52 8)(line_width 1))
		(line (pt 52 4)(pt 78 4)(line_width 1))
		(line (pt 52 12)(pt 78 12)(line_width 1))
		(line (pt 52 12)(pt 52 4)(line_width 1))
		(line (pt 78 4)(pt 82 8)(line_width 1))
		(line (pt 82 8)(pt 78 12)(line_width 1))
		(line (pt 78 12)(pt 82 8)(line_width 1))
	)
)
(symbol
	(rect 864 432 912 464)
	(text "WIRE" (rect 1 0 24 10)(font "Arial" (font_size 6)))
	(text "inst3" (rect 3 21 26 33)(font "Arial" ))
	(port
		(pt 0 16)
		(input)
		(text "IN" (rect 2 7 13 19)(font "Courier New" (bold))(invisible))
		(text "IN" (rect 2 7 13 19)(font "Courier New" (bold))(invisible))
		(line (pt 0 16)(pt 14 16)(line_width 1))
	)
	(port
		(pt 48 16)
		(output)
		(text "OUT" (rect 32 7 49 19)(font "Courier New" (bold))(invisible))
		(text "OUT" (rect 32 7 49 19)(font "Courier New" (bold))(invisible))
		(line (pt 32 16)(pt 48 16)(line_width 1))
	)
	(drawing
		(line (pt 14 7)(pt 32 16)(line_width 1))
		(line (pt 14 25)(pt 14 7)(line_width 1))
		(line (pt 14 25)(pt 32 16)(line_width 1))
	)
)
(symbol
	(rect 880 536 912 568)
	(text "GND" (rect 8 16 29 26)(font "Arial" (font_size 6)))
	(text "inst4" (rect 3 21 26 33)(font "Arial" )(invisible))
	(port
		(pt 16 0)
		(output)
		(text "1" (rect 18 0 23 12)(font "Courier New" (bold))(invisible))
		(text "1" (rect 18 0 23 12)(font "Courier New" (bold))(invisible))
		(line (pt 16 8)(pt 16 0)(line_width 1))
	)
	(drawing
		(line (pt 8 8)(pt 16 16)(line_width 1))
		(line (pt 16 16)(pt 24 8)(line_width 1))
		(line (pt 8 8)(pt 24 8)(line_width 1))
	)
)
(symbol
	(rect 1424 328 1552 424)
	(text "wb_aComp_envComp" (rect 2 1 148 17)(font "Arial" (font_size 10)))
	(text "inst" (rect 8 80 25 92)(font "Arial" ))
	(port
		(pt 0 48)
		(input)
		(text "dataa[39..0]" (rect 0 0 67 14)(font "Arial" (font_size 8)))
		(text "dataa[39..0]" (rect 20 42 87 56)(font "Arial" (font_size 8)))
		(line (pt 0 48)(pt 16 48)(line_width 3))
	)
	(port
		(pt 0 64)
		(input)
		(text "datab[39..0]" (rect 0 0 67 14)(font "Arial" (font_size 8)))
		(text "datab[39..0]" (rect 20 58 87 72)(font "Arial" (font_size 8)))
		(line (pt 0 64)(pt 16 64)(line_width 3))
	)
	(port
		(pt 128 56)
		(output)
		(text "alb" (rect 0 0 16 14)(font "Arial" (font_size 8)))
		(text "alb" (rect 95 50 111 64)(font "Arial" (font_size 8)))
		(line (pt 128 56)(pt 112 56)(line_width 1))
	)
	(drawing
		(text "unsigned compare" (rect 36 17 125 29)(font "Arial" ))
		(line (pt 16 16)(pt 112 16)(line_width 1))
		(line (pt 112 16)(pt 112 80)(line_width 1))
		(line (pt 112 80)(pt 16 80)(line_width 1))
		(line (pt 16 80)(pt 16 16)(line_width 1))
	)
)
(symbol
	(rect 1736 464 1800 544)
	(text "DFFE" (rect 1 0 25 10)(font "Arial" (font_size 6)))
	(text "inst2" (rect 3 68 26 80)(font "Arial" ))
	(port
		(pt 32 0)
		(input)
		(text "PRN" (rect 24 13 41 25)(font "Courier New" (bold)))
		(text "PRN" (rect 24 11 41 23)(font "Courier New" (bold)))
		(line (pt 32 4)(pt 32 0)(line_width 1))
	)
	(port
		(pt 32 80)
		(input)
		(text "CLRN" (rect 21 59 44 71)(font "Courier New" (bold)))
		(text "CLRN" (rect 21 58 44 70)(font "Courier New" (bold)))
		(line (pt 32 80)(pt 32 76)(line_width 1))
	)
	(port
		(pt 0 24)
		(input)
		(text "D" (rect 14 20 19 32)(font "Courier New" (bold)))
		(text "D" (rect 14 20 19 32)(font "Courier New" (bold)))
		(line (pt 0 24)(pt 12 24)(line_width 1))
	)
	(port
		(pt 0 40)
		(input)
		(text "CLK" (rect 2 28 19 40)(font "Courier New" (bold))(invisible))
		(text "CLK" (rect 2 28 19 40)(font "Courier New" (bold))(invisible))
		(line (pt 0 40)(pt 12 40)(line_width 1))
	)
	(port
		(pt 0 56)
		(input)
		(text "ENA" (rect 14 50 31 62)(font "Courier New" (bold)))
		(text "ENA" (rect 14 50 31 62)(font "Courier New" (bold)))
		(line (pt 0 56)(pt 12 56)(line_width 1))
	)
	(port
		(pt 64 24)
		(output)
		(text "Q" (rect 44 20 49 32)(font "Courier New" (bold)))
		(text "Q" (rect 44 20 49 32)(font "Courier New" (bold)))
		(line (pt 53 24)(pt 64 24)(line_width 1))
	)
	(drawing
		(line (pt 12 68)(pt 52 68)(line_width 1))
		(line (pt 12 12)(pt 52 12)(line_width 1))
		(line (pt 52 68)(pt 52 12)(line_width 1))
		(line (pt 12 68)(pt 12 12)(line_width 1))
		(line (pt 12 34)(pt 19 41)(line_width 1))
		(line (pt 18 41)(pt 12 47)(line_width 1))
		(circle (rect 28 4 36 12)(line_width 1))
		(circle (rect 28 68 36 76)(line_width 1))
	)
)
(symbol
	(rect 1320 456 1624 552)
	(text "2-1-mux" (rect 5 0 52 14)(font "Arial" (font_size 8)))
	(text "inst9" (rect 8 80 31 92)(font "Arial" ))
	(port
		(pt 0 48)
		(input)
		(text "data0[busWidth-1..0]" (rect 0 0 118 14)(font "Arial" (font_size 8)))
		(text "data0[busWidth-1..0]" (rect 21 43 139 57)(font "Arial" (font_size 8)))
		(line (pt 0 48)(pt 16 48)(line_width 3))
	)
	(port
		(pt 0 64)
		(input)
		(text "data1[busWidth-1..0]" (rect 0 0 118 14)(font "Arial" (font_size 8)))
		(text "data1[busWidth-1..0]" (rect 21 59 139 73)(font "Arial" (font_size 8)))
		(line (pt 0 64)(pt 16 64)(line_width 3))
	)
	(port
		(pt 0 32)
		(input)
		(text "sel" (rect 0 0 16 14)(font "Arial" (font_size 8)))
		(text "sel" (rect 21 27 37 41)(font "Arial" (font_size 8)))
		(line (pt 0 32)(pt 16 32)(line_width 1))
	)
	(port
		(pt 304 32)
		(output)
		(text "dataOut[busWidth-1..0]" (rect 0 0 130 14)(font "Arial" (font_size 8)))
		(text "dataOut[busWidth-1..0]" (rect 153 27 283 41)(font "Arial" (font_size 8)))
		(line (pt 304 32)(pt 288 32)(line_width 3))
	)
	(parameter
		"busWidth"
		"40"
		""
	)
	(drawing
		(rectangle (rect 16 16 288 80)(line_width 1))
	)
	(annotation_block (parameter)(rect 1504 504 1608 536))
)
(symbol
	(rect 1024 344 1256 424)
	(text "wb_aComp_valueReducer" (rect 5 0 156 14)(font "Arial" (font_size 8)))
	(text "inst1" (rect 8 64 31 76)(font "Arial" ))
	(port
		(pt 0 32)
		(input)
		(text "oldValue[39..0]" (rect 0 0 84 14)(font "Arial" (font_size 8)))
		(text "oldValue[39..0]" (rect 21 27 105 41)(font "Arial" (font_size 8)))
		(line (pt 0 32)(pt 16 32)(line_width 3))
	)
	(port
		(pt 0 48)
		(input)
		(text "redSpeed[3..0]" (rect 0 0 83 14)(font "Arial" (font_size 8)))
		(text "redSpeed[3..0]" (rect 21 43 104 57)(font "Arial" (font_size 8)))
		(line (pt 0 48)(pt 16 48)(line_width 3))
	)
	(port
		(pt 232 32)
		(output)
		(text "redOldValue[39..0]" (rect -16 0 90 14)(font "Arial" (font_size 8)))
		(text "redOldValue[39..0]" (rect 120 24 226 38)(font "Arial" (font_size 8)))
		(line (pt 232 32)(pt 216 32)(line_width 3))
	)
	(drawing
		(rectangle (rect 16 16 216 64)(line_width 1))
	)
)
(connector
	(pt 1552 384)
	(pt 1568 384)
)
(connector
	(pt 1568 384)
	(pt 1568 440)
)
(connector
	(text "<<__$DEF_ALIAS521>>" (rect 1298 376 1416 388)(font "Arial" )(invisible))
	(pt 1424 392)
	(pt 1288 392)
	(bus)
)
(connector
	(pt 1008 376)
	(pt 1008 288)
	(bus)
)
(connector
	(pt 1008 376)
	(pt 1024 376)
	(bus)
)
(connector
	(pt 1288 392)
	(pt 1288 520)
	(bus)
)
(connector
	(pt 1024 392)
	(pt 808 392)
	(bus)
)
(connector
	(text "newData[39..24]" (rect 922 432 1002 444)(font "Arial" ))
	(pt 1000 448)
	(pt 912 448)
	(bus)
)
(connector
	(pt 1000 448)
	(pt 1000 520)
	(bus)
)
(connector
	(pt 896 536)
	(pt 896 520)
	(bus)
)
(connector
	(pt 808 448)
	(pt 864 448)
	(bus)
)
(connector
	(pt 1568 440)
	(pt 1304 440)
)
(connector
	(pt 1272 376)
	(pt 1272 504)
	(bus)
)
(connector
	(pt 1272 504)
	(pt 1320 504)
	(bus)
)
(connector
	(pt 1304 440)
	(pt 1304 488)
)
(connector
	(pt 1304 488)
	(pt 1320 488)
)
(connector
	(pt 1256 376)
	(pt 1272 376)
	(bus)
)
(connector
	(text "reducedOldValue[39..0]" (rect 1306 360 1420 372)(font "Arial" ))
	(pt 1272 376)
	(pt 1424 376)
	(bus)
)
(connector
	(pt 1288 520)
	(pt 1320 520)
	(bus)
)
(connector
	(pt 1736 520)
	(pt 1720 520)
)
(connector
	(pt 1736 504)
	(pt 1704 504)
)
(connector
	(pt 1768 544)
	(pt 1768 616)
)
(connector
	(pt 800 600)
	(pt 1720 600)
)
(connector
	(pt 800 616)
	(pt 1768 616)
)
(connector
	(pt 1720 520)
	(pt 1720 600)
)
(connector
	(pt 800 584)
	(pt 1704 584)
)
(connector
	(pt 1704 504)
	(pt 1704 584)
)
(connector
	(text "newMaxValue[39..0]" (rect 1634 472 1731 484)(font "Arial" ))
	(pt 1624 488)
	(pt 1736 488)
	(bus)
)
(connector
	(text "envelopeWide[39..0]" (rect 1762 272 1863 284)(font "Arial" ))
	(pt 1008 288)
	(pt 1904 288)
	(bus)
)
(connector
	(pt 1904 488)
	(pt 1904 288)
	(bus)
)
(connector
	(text "envelopeWide[39..0]" (rect 1802 488 1903 500)(font "Arial" ))
	(pt 1800 488)
	(pt 1904 488)
	(bus)
)
(connector
	(text "envelopeWide[39..24]" (rect 1914 472 2021 484)(font "Arial" ))
	(pt 1904 488)
	(pt 2008 488)
	(bus)
)
(connector
	(text "newData[23..0]" (rect 882 504 956 516)(font "Arial" ))
	(pt 896 520)
	(pt 1000 520)
	(bus)
)
(connector
	(text "newData[39..0]" (rect 1106 504 1180 516)(font "Arial" ))
	(pt 1000 520)
	(pt 1288 520)
	(bus)
)
(junction (pt 1272 376))
(junction (pt 1288 520))
(junction (pt 1000 520))
(junction (pt 1904 488))
(text "extending to 24 bit" (rect 880 480 983 494)(font "Arial" (font_size 8)))
(text "select the largest value" (rect 1336 552 1468 566)(font "Arial" (font_size 8)))
(text "store the value" (rect 1736 448 1820 462)(font "Arial" (font_size 8)))
(text "Drop the lowers bits to get the bitlwidth to 16" (rect 2016 496 2270 510)(font "Arial" (font_size 8)))
(text "compare new value with reduced old value" (rect 1424 312 1670 326)(font "Arial" (font_size 8)))
(text "decided by the reduciton speed" (rect 1024 440 1203 454)(font "Arial" (font_size 8)))
(text "reduce old envelope value with an amount" (rect 1024 424 1264 438)(font "Arial" (font_size 8)))
